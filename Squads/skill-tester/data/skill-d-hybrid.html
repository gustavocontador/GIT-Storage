<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meridian Analytics â€” Skill D: Hybrid Frontend Design</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        bg: '#08080A', surface: '#111113', raised: '#1A1A1E', hover: '#222226',
        border: '#2A2A2F', 'border-s': '#1E1E23',
        't-pri': '#F4F4F5', 't-sec': '#A0A0AB', 't-ter': '#6B6B78',
        accent: '#E07A5F', sage: '#81B29A', golden: '#F2CC8F',
        ok: '#4ADE80', warn: '#FBBF24', err: '#F87171'
      },
      fontFamily: { serif: ['Instrument Serif','serif'], sans: ['Inter','sans-serif'], mono: ['JetBrains Mono','monospace'] }
    }
  }
}
</script>
<style>
:root {
  --bg:#08080A;--surface:#111113;--raised:#1A1A1E;--hover:#222226;
  --border:#2A2A2F;--border-s:#1E1E23;
  --t-pri:#F4F4F5;--t-sec:#A0A0AB;--t-ter:#6B6B78;
  --accent:#E07A5F;--sage:#81B29A;--golden:#F2CC8F;
  --accent-glow:rgba(224,122,95,0.15);
  --ok:#4ADE80;--warn:#FBBF24;--err:#F87171;
  --ease:cubic-bezier(0.16,1,0.3,1);
  --r-card:12px;--r-btn:8px;--r-pill:999px;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
html{scroll-behavior:smooth;}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--t-pri);overflow-x:hidden;min-height:100vh;line-height:1.5;}
::selection{background:var(--accent);color:#fff;}
::-webkit-scrollbar{width:6px;height:6px;}
::-webkit-scrollbar-track{background:var(--surface);}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px;}
::-webkit-scrollbar-thumb:hover{background:var(--t-ter);}

/* SIDEBAR */
.sidebar{position:fixed;top:0;left:0;width:260px;height:100vh;background:var(--surface);border-right:1px solid var(--border-s);z-index:50;display:flex;flex-direction:column;overflow-y:auto;}
.sidebar-noise{position:absolute;inset:0;pointer-events:none;opacity:0.03;}
.sidebar .logo{padding:20px 24px;display:flex;align-items:center;gap:8px;font-family:'Instrument Serif',serif;font-size:22px;letter-spacing:-0.02em;color:var(--t-pri);}
.logo-dot{width:8px;height:8px;border-radius:50%;background:var(--accent);display:inline-block;margin-left:2px;vertical-align:middle;}
.workspace-sel{margin:0 16px 12px;padding:10px 12px;background:var(--raised);border:1px solid var(--border-s);border-radius:var(--r-btn);display:flex;align-items:center;justify-content:space-between;cursor:pointer;transition:all 0.2s var(--ease);font-size:13px;color:var(--t-sec);}
.workspace-sel:hover{border-color:var(--border);background:var(--hover);}
.nav-group{padding:8px 16px;}
.nav-group-label{font-size:10px;letter-spacing:0.08em;text-transform:uppercase;color:var(--t-ter);padding:4px 12px 8px;font-weight:600;}
.nav-item{display:flex;align-items:center;gap:10px;padding:9px 12px;border-radius:var(--r-btn);font-size:13.5px;color:var(--t-sec);cursor:pointer;transition:all 0.2s var(--ease);position:relative;border-left:3px solid transparent;margin-bottom:2px;}
.nav-item:hover{background:var(--raised);color:var(--t-pri);}
.nav-item.active{background:var(--raised);color:var(--t-pri);border-left-color:var(--accent);box-shadow:inset 0 0 20px var(--accent-glow);}
.nav-item .badge{margin-left:auto;font-size:11px;padding:2px 8px;border-radius:var(--r-pill);font-weight:600;}
.badge-accent{background:var(--accent);color:#fff;}
.badge-muted{background:var(--hover);color:var(--t-sec);}
.pulse-dot{width:7px;height:7px;border-radius:50%;background:var(--accent);margin-left:auto;animation:pulse-glow 2s ease-in-out infinite;}
@keyframes pulse-glow{0%,100%{opacity:1;box-shadow:0 0 0 0 rgba(224,122,95,0.4);}50%{opacity:0.7;box-shadow:0 0 0 6px rgba(224,122,95,0);}}
.nav-sep{height:1px;margin:8px 24px;background:linear-gradient(90deg,transparent,var(--border-s),transparent);}
.sidebar-user{margin-top:auto;padding:16px 20px;border-top:1px solid var(--border-s);display:flex;align-items:center;gap:12px;}
.sidebar-user .avatar{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--sage));display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:600;color:#fff;position:relative;flex-shrink:0;}
.status-dot{position:absolute;bottom:0;right:0;width:10px;height:10px;border-radius:50%;background:var(--ok);border:2px solid var(--surface);animation:pulse-status 2.5s ease-in-out infinite;}
@keyframes pulse-status{0%,100%{box-shadow:0 0 0 0 rgba(74,222,128,0.4);}50%{box-shadow:0 0 0 4px rgba(74,222,128,0);}}
.sidebar-user .info{flex:1;min-width:0;}
.sidebar-user .name{font-size:13px;font-weight:600;color:var(--t-pri);}
.sidebar-user .role{font-size:11px;color:var(--t-ter);}

/* TOP HEADER */
.topbar{position:fixed;top:0;left:260px;right:0;height:64px;background:rgba(17,17,19,0.85);backdrop-filter:blur(16px);border-bottom:1px solid var(--border-s);z-index:40;display:flex;align-items:center;padding:0 28px;gap:16px;}
.breadcrumbs{font-size:13px;color:var(--t-ter);display:flex;align-items:center;gap:6px;}
.breadcrumbs span{color:var(--t-pri);font-weight:500;}
.cmd-btn{margin-left:auto;display:flex;align-items:center;gap:8px;padding:7px 14px;background:var(--raised);border:1px solid var(--border-s);border-radius:var(--r-btn);font-size:13px;color:var(--t-ter);cursor:pointer;transition:all 0.2s var(--ease);}
.cmd-btn:hover{border-color:var(--border);color:var(--t-sec);}
.cmd-btn kbd{font-family:'JetBrains Mono',monospace;font-size:10px;padding:2px 6px;background:var(--hover);border-radius:4px;color:var(--t-ter);border:1px solid var(--border);}
.notif-btn{position:relative;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:var(--r-btn);cursor:pointer;color:var(--t-sec);transition:all 0.2s var(--ease);}
.notif-btn:hover{background:var(--raised);color:var(--t-pri);}
.notif-badge{position:absolute;top:2px;right:2px;width:16px;height:16px;border-radius:50%;background:var(--accent);font-size:9px;font-weight:700;color:#fff;display:flex;align-items:center;justify-content:center;animation:badge-bounce 2s ease-in-out infinite;}
@keyframes badge-bounce{0%,100%{transform:scale(1);}15%{transform:scale(1.2);}30%{transform:scale(1);}}
.new-report-btn{padding:8px 16px;border:1px solid transparent;border-radius:var(--r-btn);font-size:13px;font-weight:600;color:#fff;cursor:pointer;background:linear-gradient(135deg,var(--accent),var(--sage));background-clip:padding-box;position:relative;transition:all 0.2s var(--ease);}
.new-report-btn:hover{box-shadow:0 0 20px var(--accent-glow);transform:translateY(-1px);}
.header-avatar{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--sage));display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:600;color:#fff;border:2px solid var(--ok);cursor:pointer;}
.live-clock{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t-ter);min-width:58px;text-align:right;}

/* MAIN CONTENT */
.main{margin-left:260px;padding-top:64px;min-height:100vh;}
.content{padding:32px 36px;max-width:1320px;margin:0 auto;}

/* HERO */
.hero{position:relative;padding:56px 48px;border-radius:var(--r-card);overflow:hidden;margin-bottom:32px;border:1px solid var(--border-s);}
.hero-mesh{position:absolute;inset:0;z-index:0;overflow:hidden;}
.hero-mesh .orb{position:absolute;border-radius:50%;filter:blur(80px);opacity:0.35;animation:float-orb 12s ease-in-out infinite;}
.orb-1{width:350px;height:350px;background:var(--accent);top:-80px;right:-60px;animation-delay:0s;}
.orb-2{width:250px;height:250px;background:var(--sage);bottom:-60px;left:10%;animation-delay:-4s;}
.orb-3{width:200px;height:200px;background:var(--golden);top:20%;left:40%;animation-delay:-8s;opacity:0.2;}
@keyframes float-orb{0%,100%{transform:translate(0,0);}33%{transform:translate(20px,-15px);}66%{transform:translate(-15px,20px);};}
.hero-content{position:relative;z-index:1;}
.hero h1{font-family:'Instrument Serif',serif;font-size:42px;color:var(--t-pri);margin-bottom:12px;letter-spacing:-0.02em;}
.hero .subtitle{font-size:15px;color:var(--t-sec);max-width:560px;line-height:1.6;margin-bottom:16px;}
.hero .date{font-size:13px;color:var(--t-ter);font-family:'JetBrains Mono',monospace;}

/* PARTICLES */
.particle{position:absolute;border-radius:50%;background:var(--accent);opacity:0.2;animation:drift linear infinite;z-index:0;pointer-events:none;}
@keyframes drift{0%{transform:translateY(0) translateX(0);}25%{transform:translateY(-30px) translateX(15px);}50%{transform:translateY(-10px) translateX(-10px);}75%{transform:translateY(-40px) translateX(20px);}100%{transform:translateY(0) translateX(0);}}

/* KPI CARDS */
.kpi-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:32px;}
.kpi-card{background:rgba(26,26,30,0.6);backdrop-filter:blur(16px);border:1px solid var(--border-s);border-radius:var(--r-card);padding:24px;transition:all 0.35s var(--ease);opacity:0;transform:translateY(20px);}
.kpi-card.visible{opacity:1;transform:translateY(0);}
.kpi-card:hover{transform:translateY(-6px);box-shadow:0 12px 40px rgba(0,0,0,0.3),0 0 20px var(--accent-glow);border-color:var(--border);}
.kpi-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;margin-bottom:16px;}
.kpi-value{font-size:30px;font-weight:700;letter-spacing:-0.02em;margin-bottom:4px;font-variant-numeric:tabular-nums;}
.kpi-label{font-size:13px;color:var(--t-sec);margin-bottom:12px;}
.kpi-trend{display:flex;align-items:center;gap:8px;font-size:12.5px;font-weight:600;}
.kpi-trend.up{color:var(--ok);}
.kpi-trend.down{color:var(--err);}
.sparkline-svg{height:28px;flex:1;}

/* CHARTS */
.charts-row{display:grid;grid-template-columns:3fr 2fr;gap:20px;margin-bottom:32px;}
.chart-card{background:var(--surface);border:1px solid var(--border-s);border-radius:var(--r-card);padding:28px;transition:all 0.3s var(--ease);}
.chart-card:hover{border-color:var(--border);}
.chart-title{font-family:'Instrument Serif',serif;font-size:20px;margin-bottom:20px;color:var(--t-pri);}
.line-chart-wrap{position:relative;width:100%;height:220px;}
.donut-wrap{display:flex;flex-direction:column;align-items:center;}
.donut-legend{display:grid;grid-template-columns:1fr 1fr;gap:8px 20px;margin-top:20px;width:100%;}
.legend-item{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--t-sec);}
.legend-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0;}

/* TABLE */
.table-card{background:var(--surface);border:1px solid var(--border-s);border-radius:var(--r-card);padding:0;margin-bottom:32px;overflow:hidden;}
.table-header{padding:20px 24px;display:flex;align-items:center;gap:16px;border-bottom:1px solid var(--border-s);}
.table-title{font-family:'Instrument Serif',serif;font-size:20px;color:var(--t-pri);}
.filter-tabs{display:flex;gap:4px;margin-left:auto;}
.filter-tab{padding:6px 14px;border-radius:var(--r-pill);font-size:12px;font-weight:500;cursor:pointer;color:var(--t-ter);background:transparent;border:1px solid transparent;transition:all 0.2s var(--ease);}
.filter-tab:hover{color:var(--t-sec);background:var(--raised);}
.filter-tab.active{color:var(--t-pri);background:var(--raised);border-color:var(--border);}
.table-search{padding:0 24px 16px;padding-top:16px;}
.table-search input{width:100%;max-width:300px;padding:8px 12px 8px 36px;background:var(--raised);border:1px solid var(--border-s);border-radius:var(--r-btn);font-size:13px;color:var(--t-pri);outline:none;transition:border 0.2s;}
.table-search input:focus{border-color:var(--accent);}
.table-search .search-wrap{position:relative;display:inline-block;}
.table-search .search-icon{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:var(--t-ter);pointer-events:none;}
table{width:100%;border-collapse:collapse;}
thead{background:var(--raised);}
th{padding:10px 16px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:0.06em;color:var(--t-ter);text-align:left;border-bottom:1px solid var(--border-s);}
td{padding:12px 16px;font-size:13px;color:var(--t-sec);border-bottom:1px solid var(--border-s);}
tr.data-row{transition:all 0.15s var(--ease);border-left:3px solid transparent;}
tr.data-row:nth-child(even){background:rgba(26,26,30,0.3);}
tr.data-row:hover{background:var(--raised);border-left-color:var(--accent);}
.status-pill{display:inline-flex;align-items:center;gap:5px;padding:3px 10px;border-radius:var(--r-pill);font-size:11.5px;font-weight:500;}
.status-pill .dot{width:6px;height:6px;border-radius:50%;}
.status-success{background:rgba(74,222,128,0.1);color:var(--ok);}
.status-success .dot{background:var(--ok);}
.status-pending{background:rgba(251,191,36,0.1);color:var(--warn);}
.status-pending .dot{background:var(--warn);}
.status-failed{background:rgba(248,113,113,0.1);color:var(--err);}
.status-failed .dot{background:var(--err);}
.tx-id{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t-ter);}
.customer-cell{display:flex;align-items:center;gap:10px;}
.customer-avatar{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;color:#fff;flex-shrink:0;}
.pagination{padding:16px 24px;display:flex;align-items:center;justify-content:space-between;border-top:1px solid var(--border-s);}
.pagination .info{font-size:12px;color:var(--t-ter);}
.page-btns{display:flex;gap:4px;}
.page-btn{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:var(--r-btn);font-size:12px;cursor:pointer;color:var(--t-sec);background:transparent;border:1px solid var(--border-s);transition:all 0.15s var(--ease);}
.page-btn:hover{background:var(--raised);border-color:var(--border);}
.page-btn.active{background:var(--accent);border-color:var(--accent);color:#fff;}

/* SPLIT PANEL */
.split-row{display:grid;grid-template-columns:55fr 45fr;gap:20px;margin-bottom:32px;}
.panel-card{background:var(--surface);border:1px solid var(--border-s);border-radius:var(--r-card);padding:24px;max-height:480px;overflow-y:auto;}
.panel-title{font-family:'Instrument Serif',serif;font-size:20px;margin-bottom:16px;color:var(--t-pri);}
.activity-item{display:flex;gap:12px;padding:12px 0;border-bottom:1px solid var(--border-s);}
.activity-item:last-child{border-bottom:none;}
.activity-avatar{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:600;color:#fff;flex-shrink:0;}
.activity-text{font-size:13px;color:var(--t-sec);line-height:1.5;}
.activity-text strong{color:var(--t-pri);font-weight:600;}
.activity-text a{color:var(--accent);text-decoration:none;}
.activity-time{font-size:11px;color:var(--t-ter);margin-top:2px;}
.view-all{display:block;text-align:center;padding:12px;font-size:13px;color:var(--accent);cursor:pointer;border-top:1px solid var(--border-s);margin-top:8px;}
.notif-tabs{display:flex;gap:4px;margin-bottom:16px;}
.notif-tab{padding:5px 12px;border-radius:var(--r-pill);font-size:12px;cursor:pointer;color:var(--t-ter);transition:all 0.15s;}
.notif-tab:hover{color:var(--t-sec);}
.notif-tab.active{background:var(--raised);color:var(--t-pri);border:1px solid var(--border);}
.notif-entry{display:flex;gap:10px;padding:10px 8px;border-radius:var(--r-btn);cursor:pointer;transition:all 0.15s;border-left:3px solid transparent;}
.notif-entry:hover{background:var(--raised);border-left-color:var(--accent);}
.notif-entry.unread{background:rgba(26,26,30,0.6);}
.notif-entry .unread-dot{width:6px;height:6px;border-radius:50%;background:var(--accent);flex-shrink:0;margin-top:6px;}
.notif-text{font-size:13px;color:var(--t-sec);line-height:1.4;}
.notif-time{font-size:11px;color:var(--t-ter);margin-top:2px;}
.mark-read{font-size:12px;color:var(--accent);cursor:pointer;margin-left:auto;white-space:nowrap;}

/* ANALYTICS DEEP DIVE */
.analytics-section{margin-bottom:32px;}
.section-header{margin-bottom:24px;}
.section-header h2{font-family:'Instrument Serif',serif;font-size:26px;color:var(--t-pri);margin-bottom:4px;}
.section-header p{font-size:14px;color:var(--t-sec);}
.analytics-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-bottom:20px;}
.analytics-card{background:var(--surface);border:1px solid var(--border-s);border-radius:var(--r-card);padding:24px;}
.analytics-card h3{font-family:'Instrument Serif',serif;font-size:18px;margin-bottom:16px;color:var(--t-pri);}
.rank-item{display:flex;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid var(--border-s);}
.rank-item:last-child{border-bottom:none;}
.rank-badge{width:24px;height:24px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:#fff;flex-shrink:0;}
.rank-info{flex:1;min-width:0;}
.rank-name{font-size:13px;font-weight:500;color:var(--t-pri);}
.rank-meta{font-size:11px;color:var(--t-ter);display:flex;gap:8px;}
.rank-bar{height:4px;border-radius:2px;background:var(--raised);margin-top:6px;overflow:hidden;}
.rank-bar-fill{height:100%;border-radius:2px;transition:width 1s var(--ease);width:0;}
.bar-row{display:flex;align-items:center;gap:12px;padding:8px 0;}
.bar-label{font-size:12px;color:var(--t-sec);width:100px;flex-shrink:0;}
.bar-track{flex:1;height:8px;background:var(--raised);border-radius:4px;overflow:hidden;}
.bar-fill{height:100%;border-radius:4px;background:linear-gradient(90deg,var(--accent),var(--sage));transition:width 1.2s var(--ease);width:0;}
.bar-value{font-size:12px;color:var(--t-ter);width:50px;text-align:right;font-family:'JetBrains Mono',monospace;}
.goal-rings{display:flex;justify-content:space-around;padding:12px 0;}
.goal-item{display:flex;flex-direction:column;align-items:center;gap:8px;}
.goal-label{font-size:12px;color:var(--t-sec);}
.goal-pct{font-size:18px;font-weight:700;}
.insight-card{background:var(--raised);border:1px solid var(--border-s);border-radius:var(--r-card);padding:20px 28px;text-align:center;}
.insight-card p{font-family:'Instrument Serif',serif;font-style:italic;font-size:16px;color:var(--t-sec);line-height:1.6;}

/* COMMAND PALETTE */
.cmd-overlay{position:fixed;inset:0;background:rgba(8,8,10,0.7);backdrop-filter:blur(8px);z-index:100;display:none;align-items:flex-start;justify-content:center;padding-top:15vh;}
.cmd-overlay.open{display:flex;}
.cmd-modal{background:var(--surface);border:1px solid var(--border);border-radius:var(--r-card);width:560px;max-height:420px;overflow:hidden;animation:cmd-in 0.2s var(--ease);box-shadow:0 24px 80px rgba(0,0,0,0.5);}
@keyframes cmd-in{from{opacity:0;transform:scale(0.95);}to{opacity:1;transform:scale(1);}}
.cmd-input-wrap{padding:16px;border-bottom:1px solid var(--border-s);display:flex;align-items:center;gap:10px;}
.cmd-input-wrap input{flex:1;background:transparent;border:none;outline:none;font-size:15px;color:var(--t-pri);}
.cmd-input-wrap input::placeholder{color:var(--t-ter);}
.cmd-results{overflow-y:auto;max-height:320px;padding:8px;}
.cmd-group-label{font-size:10px;text-transform:uppercase;letter-spacing:0.06em;color:var(--t-ter);padding:8px 12px 4px;font-weight:600;}
.cmd-item{display:flex;align-items:center;gap:10px;padding:9px 12px;border-radius:var(--r-btn);cursor:pointer;transition:all 0.1s;font-size:13.5px;color:var(--t-sec);}
.cmd-item:hover,.cmd-item.selected{background:var(--raised);color:var(--t-pri);}
.cmd-item kbd{margin-left:auto;font-family:'JetBrains Mono',monospace;font-size:10px;padding:2px 6px;background:var(--hover);border-radius:4px;color:var(--t-ter);border:1px solid var(--border);}

/* SETTINGS PANEL */
.settings-overlay{position:fixed;inset:0;background:rgba(8,8,10,0.5);z-index:90;display:none;}
.settings-overlay.open{display:block;}
.settings-panel{position:fixed;top:0;right:-400px;width:380px;height:100vh;background:var(--surface);border-left:1px solid var(--border);z-index:91;transition:right 0.35s var(--ease);overflow-y:auto;display:flex;flex-direction:column;}
.settings-panel.open{right:0;}
.settings-head{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid var(--border-s);}
.settings-head h2{font-family:'Instrument Serif',serif;font-size:20px;}
.settings-close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:var(--r-btn);cursor:pointer;color:var(--t-sec);transition:all 0.15s;}
.settings-close:hover{background:var(--raised);color:var(--t-pri);}
.settings-tabs{display:flex;gap:4px;padding:16px 24px 0;}
.settings-tab{padding:6px 14px;border-radius:var(--r-pill);font-size:12px;cursor:pointer;color:var(--t-ter);transition:all 0.15s;}
.settings-tab.active{background:var(--raised);color:var(--t-pri);border:1px solid var(--border);}
.settings-body{padding:20px 24px;flex:1;}
.settings-section{display:none;}
.settings-section.active{display:block;}
.settings-label{font-size:12px;color:var(--t-ter);margin-bottom:8px;display:block;text-transform:uppercase;letter-spacing:0.04em;font-weight:600;}
.settings-input{width:100%;padding:9px 12px;background:var(--raised);border:1px solid var(--border-s);border-radius:var(--r-btn);font-size:13px;color:var(--t-pri);outline:none;margin-bottom:16px;transition:border 0.2s;}
.settings-input:focus{border-color:var(--accent);}
.theme-btns{display:flex;gap:8px;margin-bottom:16px;}
.theme-btn{flex:1;padding:8px;text-align:center;border-radius:var(--r-btn);font-size:12px;cursor:pointer;border:1px solid var(--border-s);color:var(--t-sec);transition:all 0.15s;}
.theme-btn.active{border-color:var(--accent);color:var(--t-pri);background:var(--raised);}
.accent-circles{display:flex;gap:12px;margin-bottom:16px;}
.accent-circle{width:32px;height:32px;border-radius:50%;cursor:pointer;border:3px solid transparent;transition:all 0.15s;}
.accent-circle.active{border-color:var(--t-pri);box-shadow:0 0 12px var(--accent-glow);}
.toggle-row{display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--border-s);}
.toggle-row span{font-size:13px;color:var(--t-sec);}
.toggle{width:40px;height:22px;border-radius:11px;background:var(--border);cursor:pointer;position:relative;transition:background 0.2s;}
.toggle.on{background:var(--accent);}
.toggle::after{content:'';position:absolute;top:3px;left:3px;width:16px;height:16px;border-radius:50%;background:#fff;transition:transform 0.2s var(--ease);}
.toggle.on::after{transform:translateX(18px);}
.integration-card{display:flex;align-items:center;gap:12px;padding:12px;background:var(--raised);border:1px solid var(--border-s);border-radius:var(--r-btn);margin-bottom:10px;}
.integration-card .name{font-size:13px;font-weight:500;color:var(--t-pri);flex:1;}
.integration-card .status{font-size:11px;padding:4px 10px;border-radius:var(--r-pill);cursor:pointer;}
.connected{background:rgba(74,222,128,0.1);color:var(--ok);}
.connect-btn{background:var(--hover);color:var(--t-sec);border:1px solid var(--border);}

/* TOASTS */
.toast-container{position:fixed;bottom:24px;right:24px;z-index:110;display:flex;flex-direction:column-reverse;gap:10px;}
.toast{display:flex;align-items:center;gap:12px;padding:14px 18px;background:var(--surface);border:1px solid var(--border);border-radius:var(--r-card);box-shadow:0 8px 32px rgba(0,0,0,0.4);min-width:320px;animation:toast-in 0.4s var(--ease);font-size:13px;color:var(--t-sec);}
.toast.out{animation:toast-out 0.3s var(--ease) forwards;}
@keyframes toast-in{from{opacity:0;transform:translateX(40px);}to{opacity:1;transform:translateX(0);}}
@keyframes toast-out{to{opacity:0;transform:translateX(40px);}}
.toast-icon{width:20px;height:20px;flex-shrink:0;}
.toast-close{margin-left:auto;cursor:pointer;color:var(--t-ter);padding:4px;}
.toast-close:hover{color:var(--t-pri);}
.toast.success{border-left:3px solid var(--sage);}
.toast.info{border-left:3px solid var(--accent);}
.toast.warning{border-left:3px solid var(--golden);}
.toast.error{border-left:3px solid var(--err);}

/* FOOTER */
.footer{border-top:1px solid transparent;padding:32px 36px 24px;text-align:center;position:relative;}
.footer::before{content:'';position:absolute;top:0;left:36px;right:36px;height:1px;background:linear-gradient(90deg,var(--accent),var(--sage),var(--golden));}
.footer p{font-size:12px;color:var(--t-ter);margin-bottom:4px;}
.footer .tagline{font-family:'Instrument Serif',serif;font-style:italic;font-size:14px;color:var(--t-sec);}

/* SECTION REVEAL */
.reveal{opacity:0;transform:translateY(24px);transition:all 0.6s var(--ease);}
.reveal.visible{opacity:1;transform:translateY(0);}

/* RESPONSIVE */
@media(max-width:1100px){.kpi-grid{grid-template-columns:repeat(2,1fr);}.charts-row,.split-row,.analytics-grid{grid-template-columns:1fr;}}
@media(max-width:768px){.sidebar{display:none;}.topbar{left:0;}.main{margin-left:0;}}
</style>
</head>
<body>
<!-- SVG NOISE FILTER -->
<svg style="position:absolute;width:0;height:0;">
<filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/></filter>
</svg>

<!-- SIDEBAR -->
<aside class="sidebar">
<div class="sidebar-noise"><svg width="100%" height="100%"><rect width="100%" height="100%" filter="url(#noise)" opacity="0.03"/></svg></div>
<div class="logo">Meridian<span class="logo-dot"></span></div>
<div class="workspace-sel">
  <span>Rafael's Workspace</span>
  <i data-lucide="chevron-down" style="width:14px;height:14px;"></i>
</div>
<div class="nav-group">
  <div class="nav-group-label">Main</div>
  <div class="nav-item active" data-page="overview"><i data-lucide="layout-dashboard" style="width:16px;height:16px;"></i> Overview <div class="pulse-dot"></div></div>
  <div class="nav-item" data-page="analytics"><i data-lucide="bar-chart-3" style="width:16px;height:16px;"></i> Analytics</div>
  <div class="nav-item" data-page="customers"><i data-lucide="users" style="width:16px;height:16px;"></i> Customers</div>
  <div class="nav-item" data-page="revenue"><i data-lucide="trending-up" style="width:16px;height:16px;"></i> Revenue</div>
</div>
<div class="nav-sep"></div>
<div class="nav-group">
  <div class="nav-group-label">Manage</div>
  <div class="nav-item"><i data-lucide="package" style="width:16px;height:16px;"></i> Products</div>
  <div class="nav-item"><i data-lucide="shopping-cart" style="width:16px;height:16px;"></i> Orders <span class="badge badge-muted">3</span></div>
  <div class="nav-item"><i data-lucide="megaphone" style="width:16px;height:16px;"></i> Campaigns <span class="badge badge-accent">New</span></div>
  <div class="nav-item"><i data-lucide="file-text" style="width:16px;height:16px;"></i> Reports</div>
</div>
<div class="nav-sep"></div>
<div class="nav-group">
  <div class="nav-group-label">System</div>
  <div class="nav-item"><i data-lucide="plug" style="width:16px;height:16px;"></i> Integrations</div>
  <div class="nav-item" id="nav-settings"><i data-lucide="settings" style="width:16px;height:16px;"></i> Settings</div>
</div>
<div class="sidebar-user">
  <div class="avatar">RC<div class="status-dot"></div></div>
  <div class="info"><div class="name">Rafael Costa</div><div class="role">Admin</div></div>
  <i data-lucide="settings" style="width:14px;height:14px;color:var(--t-ter);cursor:pointer;" id="user-settings-icon"></i>
</div>
</aside>

<!-- TOP HEADER -->
<header class="topbar">
  <div class="breadcrumbs">Overview <span style="color:var(--t-ter)">/</span> <span>Analytics</span></div>
  <div class="cmd-btn" id="cmd-trigger"><i data-lucide="search" style="width:14px;height:14px;"></i> Search or jump to... <kbd>&#8984;K</kbd></div>
  <div class="notif-btn" id="notif-trigger"><i data-lucide="bell" style="width:18px;height:18px;"></i><div class="notif-badge">5</div></div>
  <button class="new-report-btn">New Report</button>
  <div class="header-avatar">RC</div>
  <div class="live-clock" id="live-clock"></div>
</header>

<!-- MAIN CONTENT -->
<main class="main">
<div class="content">

<!-- HERO -->
<section class="hero reveal">
  <div class="hero-mesh">
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
    <div class="particle" style="width:3px;height:3px;top:20%;left:10%;animation-duration:18s;opacity:0.25;"></div>
    <div class="particle" style="width:2px;height:2px;top:60%;left:25%;animation-duration:22s;opacity:0.3;"></div>
    <div class="particle" style="width:4px;height:4px;top:30%;left:50%;animation-duration:15s;opacity:0.2;background:var(--sage);"></div>
    <div class="particle" style="width:2px;height:2px;top:70%;left:70%;animation-duration:20s;opacity:0.35;"></div>
    <div class="particle" style="width:3px;height:3px;top:15%;left:80%;animation-duration:25s;opacity:0.2;background:var(--golden);"></div>
    <div class="particle" style="width:2px;height:2px;top:50%;left:40%;animation-duration:19s;opacity:0.25;"></div>
    <div class="particle" style="width:3px;height:3px;top:80%;left:60%;animation-duration:16s;opacity:0.3;background:var(--sage);"></div>
    <div class="particle" style="width:2px;height:2px;top:40%;left:90%;animation-duration:23s;opacity:0.2;"></div>
  </div>
  <div class="hero-content">
    <h1 id="hero-greeting">Good evening, Rafael</h1>
    <p class="subtitle">Revenue is 23% above forecast. Three campaigns exceeded ROAS targets this week.</p>
    <p class="date" id="hero-date">Saturday, February 8, 2026</p>
  </div>
</section>

<!-- KPI CARDS -->
<div class="kpi-grid">
  <div class="kpi-card" data-delay="0">
    <div class="kpi-icon" style="background:linear-gradient(135deg,var(--accent),var(--sage))"><i data-lucide="dollar-sign" style="width:18px;height:18px;color:#fff;"></i></div>
    <div class="kpi-value" data-target="48234" data-prefix="$" data-suffix="">$0</div>
    <div class="kpi-label">Revenue</div>
    <div class="kpi-trend up"><span>+12.5%</span><i data-lucide="trending-up" style="width:14px;height:14px;"></i><svg class="sparkline-svg" viewBox="0 0 80 28"><defs><linearGradient id="sg1" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="var(--ok)" stop-opacity="0.3"/><stop offset="100%" stop-color="var(--ok)" stop-opacity="0"/></linearGradient></defs><path d="M0,22 L16,18 L32,20 L48,12 L64,14 L80,6" fill="none" stroke="var(--ok)" stroke-width="1.5"/><path d="M0,22 L16,18 L32,20 L48,12 L64,14 L80,6 L80,28 L0,28Z" fill="url(#sg1)"/></svg></div>
  </div>
  <div class="kpi-card" data-delay="80">
    <div class="kpi-icon" style="background:linear-gradient(135deg,var(--sage),var(--golden))"><i data-lucide="users" style="width:18px;height:18px;color:#fff;"></i></div>
    <div class="kpi-value" data-target="2847" data-prefix="" data-suffix="">0</div>
    <div class="kpi-label">Active Users</div>
    <div class="kpi-trend up"><span>+8.3%</span><i data-lucide="trending-up" style="width:14px;height:14px;"></i><svg class="sparkline-svg" viewBox="0 0 80 28"><defs><linearGradient id="sg2" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="var(--ok)" stop-opacity="0.3"/><stop offset="100%" stop-color="var(--ok)" stop-opacity="0"/></linearGradient></defs><path d="M0,24 L16,20 L32,22 L48,16 L64,10 L80,8" fill="none" stroke="var(--ok)" stroke-width="1.5"/><path d="M0,24 L16,20 L32,22 L48,16 L64,10 L80,8 L80,28 L0,28Z" fill="url(#sg2)"/></svg></div>
  </div>
  <div class="kpi-card" data-delay="160">
    <div class="kpi-icon" style="background:linear-gradient(135deg,var(--golden),var(--accent))"><i data-lucide="percent" style="width:18px;height:18px;color:#fff;"></i></div>
    <div class="kpi-value" data-target="324" data-prefix="" data-suffix="%" data-decimal="true">0%</div>
    <div class="kpi-label">Conversion</div>
    <div class="kpi-trend down"><span>-0.4%</span><i data-lucide="trending-down" style="width:14px;height:14px;"></i><svg class="sparkline-svg" viewBox="0 0 80 28"><defs><linearGradient id="sg3" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="var(--err)" stop-opacity="0.3"/><stop offset="100%" stop-color="var(--err)" stop-opacity="0"/></linearGradient></defs><path d="M0,10 L16,12 L32,14 L48,16 L64,18 L80,20" fill="none" stroke="var(--err)" stroke-width="1.5"/><path d="M0,10 L16,12 L32,14 L48,16 L64,18 L80,20 L80,28 L0,28Z" fill="url(#sg3)"/></svg></div>
  </div>
  <div class="kpi-card" data-delay="240">
    <div class="kpi-icon" style="background:linear-gradient(135deg,var(--accent),var(--golden))"><i data-lucide="heart" style="width:18px;height:18px;color:#fff;"></i></div>
    <div class="kpi-value" data-target="72" data-prefix="" data-suffix="">0</div>
    <div class="kpi-label">NPS Score</div>
    <div class="kpi-trend up"><span>+5</span><i data-lucide="trending-up" style="width:14px;height:14px;"></i><svg class="sparkline-svg" viewBox="0 0 80 28"><defs><linearGradient id="sg4" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="var(--ok)" stop-opacity="0.3"/><stop offset="100%" stop-color="var(--ok)" stop-opacity="0"/></linearGradient></defs><path d="M0,20 L16,22 L32,18 L48,14 L64,10 L80,6" fill="none" stroke="var(--ok)" stroke-width="1.5"/><path d="M0,20 L16,22 L32,18 L48,14 L64,10 L80,6 L80,28 L0,28Z" fill="url(#sg4)"/></svg></div>
  </div>
</div>

<!-- CHARTS SECTION -->
<div class="charts-row reveal">
  <div class="chart-card">
    <div class="chart-title">Revenue Trends</div>
    <div class="line-chart-wrap">
      <svg id="line-chart" width="100%" height="100%" viewBox="0 0 600 220">
        <defs>
          <linearGradient id="lineGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="var(--accent)" stop-opacity="0.25"/>
            <stop offset="100%" stop-color="var(--accent)" stop-opacity="0"/>
          </linearGradient>
        </defs>
        <!-- Grid lines -->
        <line x1="50" y1="20" x2="580" y2="20" stroke="var(--border-s)" stroke-dasharray="4,4"/>
        <line x1="50" y1="60" x2="580" y2="60" stroke="var(--border-s)" stroke-dasharray="4,4"/>
        <line x1="50" y1="100" x2="580" y2="100" stroke="var(--border-s)" stroke-dasharray="4,4"/>
        <line x1="50" y1="140" x2="580" y2="140" stroke="var(--border-s)" stroke-dasharray="4,4"/>
        <line x1="50" y1="180" x2="580" y2="180" stroke="var(--border-s)" stroke-dasharray="4,4"/>
        <!-- Y-axis labels -->
        <text x="40" y="24" fill="var(--t-ter)" font-size="10" text-anchor="end" font-family="JetBrains Mono">$60k</text>
        <text x="40" y="64" fill="var(--t-ter)" font-size="10" text-anchor="end" font-family="JetBrains Mono">$45k</text>
        <text x="40" y="104" fill="var(--t-ter)" font-size="10" text-anchor="end" font-family="JetBrains Mono">$30k</text>
        <text x="40" y="144" fill="var(--t-ter)" font-size="10" text-anchor="end" font-family="JetBrains Mono">$15k</text>
        <text x="40" y="184" fill="var(--t-ter)" font-size="10" text-anchor="end" font-family="JetBrains Mono">$0</text>
        <!-- X-axis labels -->
        <text x="94" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">Jan</text>
        <text x="138" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">Feb</text>
        <text x="182" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">Mar</text>
        <text x="226" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">Apr</text>
        <text x="270" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">May</text>
        <text x="314" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">Jun</text>
        <text x="358" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">Jul</text>
        <text x="402" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">Aug</text>
        <text x="446" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">Sep</text>
        <text x="490" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">Oct</text>
        <text x="534" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">Nov</text>
        <text x="578" y="205" fill="var(--t-ter)" font-size="10" text-anchor="middle">Dec</text>
        <!-- Area fill -->
        <path d="M94,140 L138,120 L182,130 L226,100 L270,110 L314,80 L358,70 L402,60 L446,75 L490,50 L534,40 L578,30 L578,180 L94,180Z" fill="url(#lineGrad)"/>
        <!-- Line -->
        <path id="revenue-line" d="M94,140 L138,120 L182,130 L226,100 L270,110 L314,80 L358,70 L402,60 L446,75 L490,50 L534,40 L578,30" fill="none" stroke="var(--accent)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="900" stroke-dashoffset="900"/>
        <!-- Interactive dots -->
        <g id="chart-dots">
          <circle cx="94" cy="140" r="4" fill="var(--accent)" class="chart-dot" data-val="$12k" opacity="0"/>
          <circle cx="138" cy="120" r="4" fill="var(--accent)" class="chart-dot" data-val="$18k" opacity="0"/>
          <circle cx="182" cy="130" r="4" fill="var(--accent)" class="chart-dot" data-val="$15k" opacity="0"/>
          <circle cx="226" cy="100" r="4" fill="var(--accent)" class="chart-dot" data-val="$24k" opacity="0"/>
          <circle cx="270" cy="110" r="4" fill="var(--accent)" class="chart-dot" data-val="$21k" opacity="0"/>
          <circle cx="314" cy="80" r="4" fill="var(--accent)" class="chart-dot" data-val="$30k" opacity="0"/>
          <circle cx="358" cy="70" r="4" fill="var(--accent)" class="chart-dot" data-val="$33k" opacity="0"/>
          <circle cx="402" cy="60" r="4" fill="var(--accent)" class="chart-dot" data-val="$36k" opacity="0"/>
          <circle cx="446" cy="75" r="4" fill="var(--accent)" class="chart-dot" data-val="$32k" opacity="0"/>
          <circle cx="490" cy="50" r="4" fill="var(--accent)" class="chart-dot" data-val="$39k" opacity="0"/>
          <circle cx="534" cy="40" r="4" fill="var(--accent)" class="chart-dot" data-val="$42k" opacity="0"/>
          <circle cx="578" cy="30" r="4" fill="var(--accent)" class="chart-dot" data-val="$48k" opacity="0"/>
        </g>
        <!-- Tooltip (hidden by default) -->
        <g id="chart-tooltip" opacity="0">
          <rect x="0" y="0" width="56" height="26" rx="6" fill="var(--raised)" stroke="var(--border)" stroke-width="1"/>
          <text x="28" y="17" fill="var(--t-pri)" font-size="11" text-anchor="middle" font-weight="600" font-family="JetBrains Mono" id="tooltip-text"></text>
        </g>
      </svg>
    </div>
  </div>
  <div class="chart-card">
    <div class="chart-title">Revenue Sources</div>
    <div class="donut-wrap">
      <svg width="200" height="200" viewBox="0 0 200 200" id="donut-chart">
        <circle cx="100" cy="100" r="70" fill="none" stroke="var(--raised)" stroke-width="24"/>
        <circle cx="100" cy="100" r="70" fill="none" stroke="var(--accent)" stroke-width="24" stroke-dasharray="153.94 440" stroke-dashoffset="0" transform="rotate(-90 100 100)" class="donut-seg" style="transition:stroke-dashoffset 1s var(--ease);"/>
        <circle cx="100" cy="100" r="70" fill="none" stroke="var(--sage)" stroke-width="24" stroke-dasharray="123.15 440" stroke-dashoffset="-153.94" transform="rotate(-90 100 100)" class="donut-seg" style="transition:stroke-dashoffset 1s var(--ease);"/>
        <circle cx="100" cy="100" r="70" fill="none" stroke="var(--golden)" stroke-width="24" stroke-dasharray="96.76 440" stroke-dashoffset="-277.09" transform="rotate(-90 100 100)" class="donut-seg" style="transition:stroke-dashoffset 1s var(--ease);"/>
        <circle cx="100" cy="100" r="70" fill="none" stroke="var(--t-ter)" stroke-width="24" stroke-dasharray="65.97 440" stroke-dashoffset="-373.85" transform="rotate(-90 100 100)" class="donut-seg" style="transition:stroke-dashoffset 1s var(--ease);"/>
        <text x="100" y="95" text-anchor="middle" fill="var(--t-pri)" font-size="22" font-weight="700">24.5k</text>
        <text x="100" y="114" text-anchor="middle" fill="var(--t-ter)" font-size="11">Total Visitors</text>
      </svg>
      <div class="donut-legend">
        <div class="legend-item"><div class="legend-dot" style="background:var(--accent)"></div>Direct 35%</div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--sage)"></div>Organic 28%</div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--golden)"></div>Referral 22%</div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--t-ter)"></div>Social 15%</div>
      </div>
    </div>
  </div>
</div>

<!-- DATA TABLE -->
<div class="table-card reveal">
  <div class="table-header">
    <div class="table-title">Recent Transactions</div>
    <div class="filter-tabs" id="table-filters">
      <div class="filter-tab active" data-filter="all">All (124)</div>
      <div class="filter-tab" data-filter="success">Successful (98)</div>
      <div class="filter-tab" data-filter="pending">Pending (18)</div>
      <div class="filter-tab" data-filter="failed">Failed (8)</div>
    </div>
  </div>
  <div class="table-search">
    <div class="search-wrap">
      <i data-lucide="search" style="width:14px;height:14px;" class="search-icon"></i>
      <input type="text" placeholder="Search transactions..." id="table-search-input">
    </div>
  </div>
  <div style="overflow-x:auto;">
  <table>
    <thead>
      <tr>
        <th style="width:36px;"><input type="checkbox" id="select-all"></th>
        <th>Transaction ID</th>
        <th>Customer</th>
        <th>Amount</th>
        <th>Status</th>
        <th>Date</th>
        <th style="width:40px;"></th>
      </tr>
    </thead>
    <tbody id="table-body">
      <tr class="data-row" data-status="success"><td><input type="checkbox"></td><td class="tx-id">#TXN-7291</td><td><div class="customer-cell"><div class="customer-avatar" style="background:linear-gradient(135deg,var(--accent),var(--sage))">AJ</div>Ana Johnson</div></td><td>$3,499.00</td><td><span class="status-pill status-success"><span class="dot"></span>Success</span></td><td>Feb 8, 2026</td><td><i data-lucide="more-horizontal" style="width:16px;height:16px;color:var(--t-ter);cursor:pointer;"></i></td></tr>
      <tr class="data-row" data-status="success"><td><input type="checkbox"></td><td class="tx-id">#TXN-7290</td><td><div class="customer-cell"><div class="customer-avatar" style="background:linear-gradient(135deg,var(--sage),var(--golden))">MK</div>Marcus Kim</div></td><td>$1,249.00</td><td><span class="status-pill status-success"><span class="dot"></span>Success</span></td><td>Feb 8, 2026</td><td><i data-lucide="more-horizontal" style="width:16px;height:16px;color:var(--t-ter);cursor:pointer;"></i></td></tr>
      <tr class="data-row" data-status="pending"><td><input type="checkbox"></td><td class="tx-id">#TXN-7289</td><td><div class="customer-cell"><div class="customer-avatar" style="background:linear-gradient(135deg,var(--golden),var(--accent))">SP</div>Sofia Patel</div></td><td>$849.00</td><td><span class="status-pill status-pending"><span class="dot"></span>Pending</span></td><td>Feb 7, 2026</td><td><i data-lucide="more-horizontal" style="width:16px;height:16px;color:var(--t-ter);cursor:pointer;"></i></td></tr>
      <tr class="data-row" data-status="success"><td><input type="checkbox"></td><td class="tx-id">#TXN-7288</td><td><div class="customer-cell"><div class="customer-avatar" style="background:linear-gradient(135deg,#6366f1,var(--accent))">DW</div>David Wilson</div></td><td>$2,175.00</td><td><span class="status-pill status-success"><span class="dot"></span>Success</span></td><td>Feb 7, 2026</td><td><i data-lucide="more-horizontal" style="width:16px;height:16px;color:var(--t-ter);cursor:pointer;"></i></td></tr>
      <tr class="data-row" data-status="failed"><td><input type="checkbox"></td><td class="tx-id">#TXN-7287</td><td><div class="customer-cell"><div class="customer-avatar" style="background:linear-gradient(135deg,var(--err),var(--golden))">LR</div>Luna Rodriguez</div></td><td>$499.00</td><td><span class="status-pill status-failed"><span class="dot"></span>Failed</span></td><td>Feb 7, 2026</td><td><i data-lucide="more-horizontal" style="width:16px;height:16px;color:var(--t-ter);cursor:pointer;"></i></td></tr>
      <tr class="data-row" data-status="success"><td><input type="checkbox"></td><td class="tx-id">#TXN-7286</td><td><div class="customer-cell"><div class="customer-avatar" style="background:linear-gradient(135deg,var(--sage),#6366f1)">JC</div>James Chen</div></td><td>$1,899.00</td><td><span class="status-pill status-success"><span class="dot"></span>Success</span></td><td>Feb 6, 2026</td><td><i data-lucide="more-horizontal" style="width:16px;height:16px;color:var(--t-ter);cursor:pointer;"></i></td></tr>
      <tr class="data-row" data-status="pending"><td><input type="checkbox"></td><td class="tx-id">#TXN-7285</td><td><div class="customer-cell"><div class="customer-avatar" style="background:linear-gradient(135deg,var(--golden),var(--sage))">EB</div>Emma Brown</div></td><td>$329.00</td><td><span class="status-pill status-pending"><span class="dot"></span>Pending</span></td><td>Feb 6, 2026</td><td><i data-lucide="more-horizontal" style="width:16px;height:16px;color:var(--t-ter);cursor:pointer;"></i></td></tr>
      <tr class="data-row" data-status="success"><td><input type="checkbox"></td><td class="tx-id">#TXN-7284</td><td><div class="customer-cell"><div class="customer-avatar" style="background:linear-gradient(135deg,var(--accent),#6366f1)">NT</div>Noah Taylor</div></td><td>$2,750.00</td><td><span class="status-pill status-success"><span class="dot"></span>Success</span></td><td>Feb 5, 2026</td><td><i data-lucide="more-horizontal" style="width:16px;height:16px;color:var(--t-ter);cursor:pointer;"></i></td></tr>
      <tr class="data-row" data-status="success"><td><input type="checkbox"></td><td class="tx-id">#TXN-7283</td><td><div class="customer-cell"><div class="customer-avatar" style="background:linear-gradient(135deg,#6366f1,var(--sage))">OG</div>Olivia Garcia</div></td><td>$29.00</td><td><span class="status-pill status-success"><span class="dot"></span>Success</span></td><td>Feb 5, 2026</td><td><i data-lucide="more-horizontal" style="width:16px;height:16px;color:var(--t-ter);cursor:pointer;"></i></td></tr>
      <tr class="data-row" data-status="pending"><td><input type="checkbox"></td><td class="tx-id">#TXN-7282</td><td><div class="customer-cell"><div class="customer-avatar" style="background:linear-gradient(135deg,var(--golden),var(--err))">WL</div>William Lee</div></td><td>$1,450.00</td><td><span class="status-pill status-pending"><span class="dot"></span>Pending</span></td><td>Feb 5, 2026</td><td><i data-lucide="more-horizontal" style="width:16px;height:16px;color:var(--t-ter);cursor:pointer;"></i></td></tr>
    </tbody>
  </table>
  </div>
  <div class="pagination">
    <div class="info">Showing 1-10 of 124</div>
    <div class="page-btns">
      <div class="page-btn"><i data-lucide="chevron-left" style="width:14px;height:14px;"></i></div>
      <div class="page-btn active">1</div>
      <div class="page-btn">2</div>
      <div class="page-btn">3</div>
      <div class="page-btn">...</div>
      <div class="page-btn">13</div>
      <div class="page-btn"><i data-lucide="chevron-right" style="width:14px;height:14px;"></i></div>
    </div>
  </div>
</div>

<!-- SPLIT: ACTIVITY + NOTIFICATIONS -->
<div class="split-row reveal">
  <div class="panel-card">
    <div class="panel-title">Recent Activity</div>
    <div class="activity-item"><div class="activity-avatar" style="background:linear-gradient(135deg,var(--accent),var(--sage))">AJ</div><div><div class="activity-text"><strong>Ana Johnson</strong> purchased <a href="#">Enterprise Plan</a> for $3,499</div><div class="activity-time">2 min ago</div></div></div>
    <div class="activity-item"><div class="activity-avatar" style="background:linear-gradient(135deg,var(--sage),var(--golden))">MK</div><div><div class="activity-text"><strong>Marcus Kim</strong> signed up via referral link</div><div class="activity-time">15 min ago</div></div></div>
    <div class="activity-item"><div class="activity-avatar" style="background:linear-gradient(135deg,var(--golden),var(--accent))">SP</div><div><div class="activity-text"><strong>Sofia Patel</strong> left a 5-star review on <a href="#">Pro Toolkit</a></div><div class="activity-time">42 min ago</div></div></div>
    <div class="activity-item"><div class="activity-avatar" style="background:linear-gradient(135deg,#6366f1,var(--sage))">DW</div><div><div class="activity-text"><strong>David Wilson</strong> upgraded to <a href="#">Business tier</a></div><div class="activity-time">1 hour ago</div></div></div>
    <div class="activity-item"><div class="activity-avatar" style="background:linear-gradient(135deg,var(--err),var(--golden))">LR</div><div><div class="activity-text"><strong>Luna Rodriguez</strong> requested a refund for order <a href="#">#ORD-4521</a></div><div class="activity-time">2 hours ago</div></div></div>
    <div class="activity-item"><div class="activity-avatar" style="background:linear-gradient(135deg,var(--sage),#6366f1)">JC</div><div><div class="activity-text"><strong>James Chen</strong> exported Q4 analytics report</div><div class="activity-time">3 hours ago</div></div></div>
    <div class="activity-item"><div class="activity-avatar" style="background:linear-gradient(135deg,var(--accent),var(--golden))">EB</div><div><div class="activity-text"><strong>Emma Brown</strong> launched campaign <a href="#">Spring Launch 2026</a></div><div class="activity-time">5 hours ago</div></div></div>
    <div class="activity-item"><div class="activity-avatar" style="background:linear-gradient(135deg,var(--golden),#6366f1)">SY</div><div><div class="activity-text">System alert: Revenue threshold of <strong>$45k</strong> exceeded</div><div class="activity-time">6 hours ago</div></div></div>
    <div class="view-all">View All Activity</div>
  </div>
  <div class="panel-card">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:4px;">
      <div class="panel-title" style="margin-bottom:0;">Notifications</div>
      <span class="mark-read" id="mark-all-read">Mark all as read</span>
    </div>
    <div class="notif-tabs" id="notif-tabs">
      <div class="notif-tab active" data-ntab="all">All</div>
      <div class="notif-tab" data-ntab="mentions">Mentions</div>
      <div class="notif-tab" data-ntab="system">System</div>
    </div>
    <div id="notif-list">
      <div class="notif-entry unread" data-ntype="mentions"><div class="unread-dot"></div><div><div class="notif-text"><i data-lucide="at-sign" style="width:12px;height:12px;display:inline;vertical-align:middle;margin-right:4px;color:var(--accent);"></i><strong>Sofia Patel</strong> mentioned you in a comment on campaign results</div><div class="notif-time">5 min ago</div></div></div>
      <div class="notif-entry unread" data-ntype="system"><div class="unread-dot"></div><div><div class="notif-text"><i data-lucide="alert-circle" style="width:12px;height:12px;display:inline;vertical-align:middle;margin-right:4px;color:var(--warn);"></i>Server load reached 85% capacity</div><div class="notif-time">20 min ago</div></div></div>
      <div class="notif-entry unread" data-ntype="mentions"><div class="unread-dot"></div><div><div class="notif-text"><i data-lucide="at-sign" style="width:12px;height:12px;display:inline;vertical-align:middle;margin-right:4px;color:var(--accent);"></i><strong>James Chen</strong> assigned you to review Q4 report</div><div class="notif-time">1 hour ago</div></div></div>
      <div class="notif-entry" data-ntype="system"><div style="width:6px;flex-shrink:0;"></div><div><div class="notif-text"><i data-lucide="check-circle" style="width:12px;height:12px;display:inline;vertical-align:middle;margin-right:4px;color:var(--ok);"></i>Backup completed successfully</div><div class="notif-time">3 hours ago</div></div></div>
      <div class="notif-entry" data-ntype="mentions"><div style="width:6px;flex-shrink:0;"></div><div><div class="notif-text"><i data-lucide="at-sign" style="width:12px;height:12px;display:inline;vertical-align:middle;margin-right:4px;color:var(--accent);"></i><strong>Emma Brown</strong> shared a document with you</div><div class="notif-time">5 hours ago</div></div></div>
      <div class="notif-entry" data-ntype="system"><div style="width:6px;flex-shrink:0;"></div><div><div class="notif-text"><i data-lucide="download" style="width:12px;height:12px;display:inline;vertical-align:middle;margin-right:4px;color:var(--t-ter);"></i>Monthly report ready for download</div><div class="notif-time">Yesterday</div></div></div>
    </div>
  </div>
</div>

<!-- ANALYTICS DEEP DIVE -->
<div class="analytics-section reveal">
  <div class="section-header">
    <h2>Performance Insights</h2>
    <p>Deep analysis across products, regions, and goals</p>
  </div>
  <div class="analytics-grid">
    <!-- TOP PRODUCTS -->
    <div class="analytics-card">
      <h3>Top Products</h3>
      <div class="rank-item"><div class="rank-badge" style="background:var(--accent);">1</div><div class="rank-info"><div class="rank-name">Enterprise Suite</div><div class="rank-meta"><span>$18,420</span><span style="color:var(--ok);">+24%</span></div><div class="rank-bar"><div class="rank-bar-fill" data-width="92" style="background:linear-gradient(90deg,var(--accent),var(--sage));"></div></div></div></div>
      <div class="rank-item"><div class="rank-badge" style="background:var(--sage);">2</div><div class="rank-info"><div class="rank-name">Pro Toolkit</div><div class="rank-meta"><span>$12,850</span><span style="color:var(--ok);">+18%</span></div><div class="rank-bar"><div class="rank-bar-fill" data-width="72" style="background:linear-gradient(90deg,var(--sage),var(--golden));"></div></div></div></div>
      <div class="rank-item"><div class="rank-badge" style="background:var(--golden);">3</div><div class="rank-info"><div class="rank-name">Starter Plan</div><div class="rank-meta"><span>$8,340</span><span style="color:var(--ok);">+12%</span></div><div class="rank-bar"><div class="rank-bar-fill" data-width="54" style="background:linear-gradient(90deg,var(--golden),var(--accent));"></div></div></div></div>
      <div class="rank-item"><div class="rank-badge" style="background:var(--border);">4</div><div class="rank-info"><div class="rank-name">API Access</div><div class="rank-meta"><span>$5,120</span><span style="color:var(--ok);">+8%</span></div><div class="rank-bar"><div class="rank-bar-fill" data-width="36" style="background:var(--t-ter);"></div></div></div></div>
      <div class="rank-item"><div class="rank-badge" style="background:var(--border);">5</div><div class="rank-info"><div class="rank-name">Add-ons Bundle</div><div class="rank-meta"><span>$3,504</span><span style="color:var(--err);">-2%</span></div><div class="rank-bar"><div class="rank-bar-fill" data-width="24" style="background:var(--t-ter);"></div></div></div></div>
    </div>
    <!-- REVENUE BY REGION -->
    <div class="analytics-card">
      <h3>Revenue by Region</h3>
      <div class="bar-row"><span class="bar-label">N. America</span><div class="bar-track"><div class="bar-fill" data-width="88"></div></div><span class="bar-value">$19.2k</span></div>
      <div class="bar-row"><span class="bar-label">Europe</span><div class="bar-track"><div class="bar-fill" data-width="72"></div></div><span class="bar-value">$14.1k</span></div>
      <div class="bar-row"><span class="bar-label">Asia Pacific</span><div class="bar-track"><div class="bar-fill" data-width="56"></div></div><span class="bar-value">$9.8k</span></div>
      <div class="bar-row"><span class="bar-label">Latin America</span><div class="bar-track"><div class="bar-fill" data-width="34"></div></div><span class="bar-value">$3.6k</span></div>
      <div class="bar-row"><span class="bar-label">Middle East</span><div class="bar-track"><div class="bar-fill" data-width="18"></div></div><span class="bar-value">$1.5k</span></div>
    </div>
    <!-- GOAL COMPLETION -->
    <div class="analytics-card">
      <h3>Goal Completion</h3>
      <div class="goal-rings">
        <div class="goal-item">
          <svg width="90" height="90" viewBox="0 0 90 90">
            <circle cx="45" cy="45" r="36" fill="none" stroke="var(--raised)" stroke-width="6"/>
            <circle cx="45" cy="45" r="36" fill="none" stroke="var(--accent)" stroke-width="6" stroke-linecap="round" stroke-dasharray="226.19" stroke-dashoffset="226.19" transform="rotate(-90 45 45)" class="goal-ring" data-pct="78"/>
          </svg>
          <div class="goal-pct" style="color:var(--accent);margin-top:-62px;">78%</div>
          <div class="goal-label" style="margin-top:30px;">Revenue</div>
        </div>
        <div class="goal-item">
          <svg width="90" height="90" viewBox="0 0 90 90">
            <circle cx="45" cy="45" r="36" fill="none" stroke="var(--raised)" stroke-width="6"/>
            <circle cx="45" cy="45" r="36" fill="none" stroke="var(--sage)" stroke-width="6" stroke-linecap="round" stroke-dasharray="226.19" stroke-dashoffset="226.19" transform="rotate(-90 45 45)" class="goal-ring" data-pct="92"/>
          </svg>
          <div class="goal-pct" style="color:var(--sage);margin-top:-62px;">92%</div>
          <div class="goal-label" style="margin-top:30px;">Growth</div>
        </div>
        <div class="goal-item">
          <svg width="90" height="90" viewBox="0 0 90 90">
            <circle cx="45" cy="45" r="36" fill="none" stroke="var(--raised)" stroke-width="6"/>
            <circle cx="45" cy="45" r="36" fill="none" stroke="var(--golden)" stroke-width="6" stroke-linecap="round" stroke-dasharray="226.19" stroke-dashoffset="226.19" transform="rotate(-90 45 45)" class="goal-ring" data-pct="65"/>
          </svg>
          <div class="goal-pct" style="color:var(--golden);margin-top:-62px;">65%</div>
          <div class="goal-label" style="margin-top:30px;">Retention</div>
        </div>
      </div>
    </div>
  </div>
  <div class="insight-card reveal">
    <p>"North American enterprise subscriptions are driving 42% of total revenue growth this quarter, with a 3.2x ROAS improvement across all active campaigns."</p>
  </div>
</div>

<!-- FOOTER -->
<footer class="footer">
  <p>Meridian Analytics v3.2 &middot; Built with Skill D: Hybrid Frontend Design &middot; Feb 2026</p>
  <p class="tagline">Where data meets design</p>
</footer>

</div><!-- /content -->
</main>

<!-- COMMAND PALETTE -->
<div class="cmd-overlay" id="cmd-overlay">
  <div class="cmd-modal">
    <div class="cmd-input-wrap">
      <i data-lucide="search" style="width:18px;height:18px;color:var(--t-ter);flex-shrink:0;"></i>
      <input type="text" placeholder="Search commands, pages, actions..." id="cmd-input" autocomplete="off">
      <kbd style="font-family:'JetBrains Mono',monospace;font-size:10px;padding:2px 6px;background:var(--hover);border-radius:4px;color:var(--t-ter);border:1px solid var(--border);">ESC</kbd>
    </div>
    <div class="cmd-results" id="cmd-results">
      <div class="cmd-group-label">Recent</div>
      <div class="cmd-item" data-cmd="recent"><i data-lucide="clock" style="width:14px;height:14px;color:var(--t-ter);"></i> Revenue Dashboard</div>
      <div class="cmd-item" data-cmd="recent"><i data-lucide="clock" style="width:14px;height:14px;color:var(--t-ter);"></i> Customer Segmentation</div>
      <div class="cmd-item" data-cmd="recent"><i data-lucide="clock" style="width:14px;height:14px;color:var(--t-ter);"></i> Campaign Analytics</div>
      <div class="cmd-item" data-cmd="recent"><i data-lucide="clock" style="width:14px;height:14px;color:var(--t-ter);"></i> Monthly Report</div>
      <div class="cmd-group-label">Quick Actions</div>
      <div class="cmd-item" data-cmd="action"><i data-lucide="file-plus" style="width:14px;height:14px;color:var(--accent);"></i> New Report <kbd>&#8984;N</kbd></div>
      <div class="cmd-item" data-cmd="action"><i data-lucide="download" style="width:14px;height:14px;color:var(--accent);"></i> Export Data <kbd>&#8984;E</kbd></div>
      <div class="cmd-item" data-cmd="action"><i data-lucide="user-plus" style="width:14px;height:14px;color:var(--accent);"></i> Invite Member <kbd>&#8984;I</kbd></div>
      <div class="cmd-item" data-cmd="action"><i data-lucide="book-open" style="width:14px;height:14px;color:var(--accent);"></i> View Docs <kbd>&#8984;D</kbd></div>
      <div class="cmd-group-label">Navigation</div>
      <div class="cmd-item" data-cmd="nav"><i data-lucide="layout-dashboard" style="width:14px;height:14px;color:var(--sage);"></i> Dashboard</div>
      <div class="cmd-item" data-cmd="nav"><i data-lucide="bar-chart-3" style="width:14px;height:14px;color:var(--sage);"></i> Analytics</div>
      <div class="cmd-item" data-cmd="nav"><i data-lucide="users" style="width:14px;height:14px;color:var(--sage);"></i> Customers</div>
      <div class="cmd-item" data-cmd="nav"><i data-lucide="settings" style="width:14px;height:14px;color:var(--sage);"></i> Settings</div>
    </div>
  </div>
</div>

<!-- SETTINGS PANEL -->
<div class="settings-overlay" id="settings-overlay"></div>
<div class="settings-panel" id="settings-panel">
  <div class="settings-head">
    <h2>Settings</h2>
    <div class="settings-close" id="settings-close"><i data-lucide="x" style="width:18px;height:18px;"></i></div>
  </div>
  <div class="settings-tabs" id="settings-tabs">
    <div class="settings-tab active" data-stab="profile">Profile</div>
    <div class="settings-tab" data-stab="appearance">Appearance</div>
    <div class="settings-tab" data-stab="notifications">Notifications</div>
    <div class="settings-tab" data-stab="integrations">Integrations</div>
  </div>
  <div class="settings-body">
    <!-- PROFILE -->
    <div class="settings-section active" id="stab-profile">
      <div style="display:flex;align-items:center;gap:16px;margin-bottom:24px;">
        <div style="width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--sage));display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:600;color:#fff;">RC</div>
        <div><div style="font-weight:600;margin-bottom:2px;">Rafael Costa</div><div style="font-size:12px;color:var(--t-ter);">Admin &middot; Since Jan 2024</div></div>
      </div>
      <label class="settings-label">Full Name</label>
      <input class="settings-input" type="text" value="Rafael Costa">
      <label class="settings-label">Email</label>
      <input class="settings-input" type="email" value="rafael@meridian.io">
      <label class="settings-label">Role</label>
      <input class="settings-input" type="text" value="Admin" disabled style="opacity:0.5;">
    </div>
    <!-- APPEARANCE -->
    <div class="settings-section" id="stab-appearance">
      <label class="settings-label">Theme</label>
      <div class="theme-btns">
        <div class="theme-btn active" data-theme="dark">Dark</div>
        <div class="theme-btn" data-theme="light">Light</div>
        <div class="theme-btn" data-theme="system">System</div>
      </div>
      <label class="settings-label">Accent Color</label>
      <div class="accent-circles">
        <div class="accent-circle active" style="background:#E07A5F;" data-accent="#E07A5F" data-glow="rgba(224,122,95,0.15)"></div>
        <div class="accent-circle" style="background:#81B29A;" data-accent="#81B29A" data-glow="rgba(129,178,154,0.15)"></div>
        <div class="accent-circle" style="background:#F2CC8F;" data-accent="#F2CC8F" data-glow="rgba(242,204,143,0.15)"></div>
      </div>
      <label class="settings-label">Font Size</label>
      <div class="theme-btns">
        <div class="theme-btn" data-size="small">Small</div>
        <div class="theme-btn active" data-size="medium">Medium</div>
        <div class="theme-btn" data-size="large">Large</div>
      </div>
    </div>
    <!-- NOTIFICATIONS -->
    <div class="settings-section" id="stab-notifications">
      <div class="toggle-row"><span>Email notifications</span><div class="toggle on" data-toggle="email"></div></div>
      <div class="toggle-row"><span>Push notifications</span><div class="toggle on" data-toggle="push"></div></div>
      <div class="toggle-row"><span>Weekly digest</span><div class="toggle" data-toggle="digest"></div></div>
      <div class="toggle-row"><span>Marketing updates</span><div class="toggle" data-toggle="marketing"></div></div>
      <div class="toggle-row"><span>Security alerts</span><div class="toggle on" data-toggle="security"></div></div>
    </div>
    <!-- INTEGRATIONS -->
    <div class="settings-section" id="stab-integrations">
      <div class="integration-card"><div style="width:28px;height:28px;border-radius:6px;background:#4A154B;display:flex;align-items:center;justify-content:center;"><i data-lucide="hash" style="width:14px;height:14px;color:#fff;"></i></div><div class="name">Slack</div><span class="status connected">Connected</span></div>
      <div class="integration-card"><div style="width:28px;height:28px;border-radius:6px;background:#1a1a1a;display:flex;align-items:center;justify-content:center;"><i data-lucide="github" style="width:14px;height:14px;color:#fff;"></i></div><div class="name">GitHub</div><span class="status connected">Connected</span></div>
      <div class="integration-card"><div style="width:28px;height:28px;border-radius:6px;background:#635bff;display:flex;align-items:center;justify-content:center;"><i data-lucide="credit-card" style="width:14px;height:14px;color:#fff;"></i></div><div class="name">Stripe</div><span class="status connect-btn">Connect</span></div>
      <div class="integration-card"><div style="width:28px;height:28px;border-radius:6px;background:#000;display:flex;align-items:center;justify-content:center;"><i data-lucide="file-text" style="width:14px;height:14px;color:#fff;"></i></div><div class="name">Notion</div><span class="status connect-btn">Connect</span></div>
    </div>
  </div>
</div>

<!-- TOAST CONTAINER -->
<div class="toast-container" id="toast-container"></div>

<script>
// ============================================================
// LUCIDE ICONS INIT
// ============================================================
document.addEventListener('DOMContentLoaded', () => {
  if (typeof lucide !== 'undefined') lucide.createIcons();
  initClock();
  initGreeting();
  initReveal();
  initKPICountUp();
  initLineChart();
  initTableFilters();
  initTableSearch();
  initSelectAll();
  initNotifTabs();
  initMarkAllRead();
  initCommandPalette();
  initSettings();
  initAnalyticsBars();
  initGoalRings();
  initChartTooltips();
  setTimeout(() => showToast('success','Dashboard synced 2 minutes ago'), 800);
  setTimeout(() => showToast('info','3 new transactions received'), 4000);
});

// ============================================================
// LIVE CLOCK
// ============================================================
function initClock() {
  const el = document.getElementById('live-clock');
  function tick() {
    const now = new Date();
    el.textContent = now.toLocaleTimeString('en-US', { hour:'2-digit', minute:'2-digit', second:'2-digit', hour12:false });
  }
  tick();
  setInterval(tick, 1000);
}

// ============================================================
// TIME-AWARE GREETING
// ============================================================
function initGreeting() {
  const h = new Date().getHours();
  let g = 'Good evening';
  if (h < 12) g = 'Good morning';
  else if (h < 18) g = 'Good afternoon';
  document.getElementById('hero-greeting').textContent = g + ', Rafael';
  const days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
  const months = ['January','February','March','April','May','June','July','August','September','October','November','December'];
  const now = new Date();
  document.getElementById('hero-date').textContent = days[now.getDay()] + ', ' + months[now.getMonth()] + ' ' + now.getDate() + ', ' + now.getFullYear();
}

// ============================================================
// SECTION REVEAL (IntersectionObserver)
// ============================================================
function initReveal() {
  const els = document.querySelectorAll('.reveal');
  const ob = new IntersectionObserver((entries) => {
    entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); ob.unobserve(e.target); } });
  }, { threshold: 0.1 });
  els.forEach(el => ob.observe(el));
}

// ============================================================
// KPI COUNT-UP
// ============================================================
function initKPICountUp() {
  const cards = document.querySelectorAll('.kpi-card');
  const ob = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        const card = e.target;
        const delay = parseInt(card.dataset.delay) || 0;
        setTimeout(() => {
          card.classList.add('visible');
          const valEl = card.querySelector('.kpi-value');
          const target = parseInt(valEl.dataset.target);
          const prefix = valEl.dataset.prefix || '';
          const suffix = valEl.dataset.suffix || '';
          const isDecimal = valEl.dataset.decimal === 'true';
          animateCount(valEl, target, prefix, suffix, isDecimal);
        }, delay);
        ob.unobserve(card);
      }
    });
  }, { threshold: 0.2 });
  cards.forEach(c => ob.observe(c));
}

function animateCount(el, target, prefix, suffix, isDecimal) {
  const duration = 1200;
  const start = performance.now();
  function step(now) {
    const elapsed = now - start;
    const progress = Math.min(elapsed / duration, 1);
    const eased = 1 - Math.pow(1 - progress, 3);
    let current = Math.round(eased * target);
    if (isDecimal) {
      el.textContent = prefix + (current / 100).toFixed(2) + suffix;
    } else {
      el.textContent = prefix + current.toLocaleString() + suffix;
    }
    if (progress < 1) requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
}

// ============================================================
// LINE CHART ANIMATION
// ============================================================
function initLineChart() {
  const line = document.getElementById('revenue-line');
  if (!line) return;
  const ob = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        line.style.transition = 'stroke-dashoffset 1.5s cubic-bezier(0.16,1,0.3,1)';
        line.style.strokeDashoffset = '0';
        // Fade in dots
        const dots = document.querySelectorAll('.chart-dot');
        dots.forEach((d, i) => {
          setTimeout(() => { d.style.transition = 'opacity 0.3s'; d.setAttribute('opacity', '1'); }, 1500 + i * 60);
        });
        ob.unobserve(e.target);
      }
    });
  }, { threshold: 0.3 });
  ob.observe(line.closest('svg'));
}

// ============================================================
// CHART TOOLTIPS
// ============================================================
function initChartTooltips() {
  const dots = document.querySelectorAll('.chart-dot');
  const tooltip = document.getElementById('chart-tooltip');
  const tooltipText = document.getElementById('tooltip-text');
  if (!tooltip) return;
  dots.forEach(dot => {
    dot.addEventListener('mouseenter', (e) => {
      const cx = parseFloat(dot.getAttribute('cx'));
      const cy = parseFloat(dot.getAttribute('cy'));
      tooltip.setAttribute('opacity', '1');
      tooltip.querySelector('rect').setAttribute('x', cx - 28);
      tooltip.querySelector('rect').setAttribute('y', cy - 34);
      tooltipText.setAttribute('x', cx);
      tooltipText.setAttribute('y', cy - 17);
      tooltipText.textContent = dot.dataset.val;
      dot.setAttribute('r', '6');
    });
    dot.addEventListener('mouseleave', () => {
      tooltip.setAttribute('opacity', '0');
      dot.setAttribute('r', '4');
    });
  });
}

// ============================================================
// TABLE FILTERS
// ============================================================
function initTableFilters() {
  const tabs = document.querySelectorAll('#table-filters .filter-tab');
  const rows = document.querySelectorAll('#table-body .data-row');
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      const filter = tab.dataset.filter;
      rows.forEach(row => {
        if (filter === 'all') { row.style.display = ''; return; }
        const status = row.dataset.status;
        row.style.display = (status === filter) ? '' : 'none';
      });
    });
  });
}

// ============================================================
// TABLE SEARCH
// ============================================================
function initTableSearch() {
  const input = document.getElementById('table-search-input');
  const rows = document.querySelectorAll('#table-body .data-row');
  if (!input) return;
  input.addEventListener('input', () => {
    const q = input.value.toLowerCase();
    rows.forEach(row => {
      const text = row.textContent.toLowerCase();
      row.style.display = text.includes(q) ? '' : 'none';
    });
  });
}

// ============================================================
// SELECT ALL CHECKBOX
// ============================================================
function initSelectAll() {
  const selectAll = document.getElementById('select-all');
  if (!selectAll) return;
  selectAll.addEventListener('change', () => {
    const checkboxes = document.querySelectorAll('#table-body input[type="checkbox"]');
    checkboxes.forEach(cb => { cb.checked = selectAll.checked; });
  });
}

// ============================================================
// NOTIFICATION TABS
// ============================================================
function initNotifTabs() {
  const tabs = document.querySelectorAll('#notif-tabs .notif-tab');
  const entries = document.querySelectorAll('#notif-list .notif-entry');
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      const filter = tab.dataset.ntab;
      entries.forEach(entry => {
        if (filter === 'all') { entry.style.display = ''; return; }
        entry.style.display = (entry.dataset.ntype === filter) ? '' : 'none';
      });
    });
  });
}

// ============================================================
// MARK ALL READ
// ============================================================
function initMarkAllRead() {
  const btn = document.getElementById('mark-all-read');
  if (!btn) return;
  btn.addEventListener('click', () => {
    document.querySelectorAll('.notif-entry.unread').forEach(e => {
      e.classList.remove('unread');
      const dot = e.querySelector('.unread-dot');
      if (dot) dot.style.opacity = '0';
    });
  });
}

// ============================================================
// COMMAND PALETTE
// ============================================================
function initCommandPalette() {
  const overlay = document.getElementById('cmd-overlay');
  const input = document.getElementById('cmd-input');
  const trigger = document.getElementById('cmd-trigger');
  const items = document.querySelectorAll('.cmd-item');
  let selectedIdx = -1;

  function openCmd() {
    overlay.classList.add('open');
    setTimeout(() => input.focus(), 50);
    selectedIdx = -1;
    updateSelection();
  }
  function closeCmd() {
    overlay.classList.remove('open');
    input.value = '';
    items.forEach(i => i.style.display = '');
    document.querySelectorAll('.cmd-group-label').forEach(l => l.style.display = '');
    selectedIdx = -1;
    updateSelection();
  }
  function updateSelection() {
    const visible = [...items].filter(i => i.style.display !== 'none');
    visible.forEach((it, idx) => {
      it.classList.toggle('selected', idx === selectedIdx);
    });
  }

  trigger.addEventListener('click', openCmd);
  overlay.addEventListener('click', (e) => { if (e.target === overlay) closeCmd(); });

  document.addEventListener('keydown', (e) => {
    if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
      e.preventDefault();
      if (overlay.classList.contains('open')) closeCmd();
      else openCmd();
    }
    if (e.key === 'Escape') {
      if (overlay.classList.contains('open')) closeCmd();
      if (document.getElementById('settings-panel').classList.contains('open')) closeSettings();
    }
    if (overlay.classList.contains('open')) {
      const visible = [...items].filter(i => i.style.display !== 'none');
      if (e.key === 'ArrowDown') { e.preventDefault(); selectedIdx = Math.min(selectedIdx + 1, visible.length - 1); updateSelection(); }
      if (e.key === 'ArrowUp') { e.preventDefault(); selectedIdx = Math.max(selectedIdx - 1, 0); updateSelection(); }
      if (e.key === 'Enter' && selectedIdx >= 0 && visible[selectedIdx]) { closeCmd(); }
    }
  });

  input.addEventListener('input', () => {
    const q = input.value.toLowerCase();
    items.forEach(item => {
      item.style.display = item.textContent.toLowerCase().includes(q) ? '' : 'none';
    });
    document.querySelectorAll('.cmd-group-label').forEach(label => {
      let next = label.nextElementSibling;
      let hasVisible = false;
      while (next && !next.classList.contains('cmd-group-label')) {
        if (next.style.display !== 'none') hasVisible = true;
        next = next.nextElementSibling;
      }
      label.style.display = hasVisible ? '' : 'none';
    });
    selectedIdx = 0;
    updateSelection();
  });
}

// ============================================================
// SETTINGS PANEL
// ============================================================
function closeSettings() {
  document.getElementById('settings-panel').classList.remove('open');
  document.getElementById('settings-overlay').classList.remove('open');
}

function initSettings() {
  const panel = document.getElementById('settings-panel');
  const overlay = document.getElementById('settings-overlay');
  const closeBtn = document.getElementById('settings-close');
  const navSettings = document.getElementById('nav-settings');
  const userSettings = document.getElementById('user-settings-icon');

  function openSettings() {
    panel.classList.add('open');
    overlay.classList.add('open');
  }

  if (navSettings) navSettings.addEventListener('click', openSettings);
  if (userSettings) userSettings.addEventListener('click', openSettings);
  if (closeBtn) closeBtn.addEventListener('click', closeSettings);
  if (overlay) overlay.addEventListener('click', closeSettings);

  // Settings tabs
  const stabs = document.querySelectorAll('#settings-tabs .settings-tab');
  stabs.forEach(tab => {
    tab.addEventListener('click', () => {
      stabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      document.querySelectorAll('.settings-section').forEach(s => s.classList.remove('active'));
      const target = document.getElementById('stab-' + tab.dataset.stab);
      if (target) target.classList.add('active');
    });
  });

  // Theme buttons
  document.querySelectorAll('.theme-btn[data-theme]').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.theme-btn[data-theme]').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    });
  });

  // Font size buttons
  document.querySelectorAll('.theme-btn[data-size]').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.theme-btn[data-size]').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    });
  });

  // Accent color circles
  document.querySelectorAll('.accent-circle').forEach(circle => {
    circle.addEventListener('click', () => {
      document.querySelectorAll('.accent-circle').forEach(c => c.classList.remove('active'));
      circle.classList.add('active');
      document.documentElement.style.setProperty('--accent', circle.dataset.accent);
      document.documentElement.style.setProperty('--accent-glow', circle.dataset.glow);
    });
  });

  // Toggle switches
  document.querySelectorAll('.toggle').forEach(toggle => {
    toggle.addEventListener('click', () => {
      toggle.classList.toggle('on');
    });
  });
}

// ============================================================
// ANALYTICS BARS (IntersectionObserver)
// ============================================================
function initAnalyticsBars() {
  const ob = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        // Rank bars
        e.target.querySelectorAll('.rank-bar-fill').forEach(bar => {
          setTimeout(() => { bar.style.width = bar.dataset.width + '%'; }, 200);
        });
        // Region bars
        e.target.querySelectorAll('.bar-fill').forEach(bar => {
          setTimeout(() => { bar.style.width = bar.dataset.width + '%'; }, 200);
        });
        ob.unobserve(e.target);
      }
    });
  }, { threshold: 0.2 });
  document.querySelectorAll('.analytics-card').forEach(card => ob.observe(card));
}

// ============================================================
// GOAL RINGS
// ============================================================
function initGoalRings() {
  const ob = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        e.target.querySelectorAll('.goal-ring').forEach(ring => {
          const pct = parseInt(ring.dataset.pct);
          const circumference = 226.19;
          const offset = circumference - (circumference * pct / 100);
          setTimeout(() => {
            ring.style.transition = 'stroke-dashoffset 1.2s cubic-bezier(0.16,1,0.3,1)';
            ring.style.strokeDashoffset = offset;
          }, 300);
        });
        ob.unobserve(e.target);
      }
    });
  }, { threshold: 0.3 });
  document.querySelectorAll('.goal-rings').forEach(el => ob.observe(el));
}

// ============================================================
// TOAST SYSTEM
// ============================================================
function showToast(type, message) {
  const container = document.getElementById('toast-container');
  const toast = document.createElement('div');
  toast.className = 'toast ' + type;
  const icons = {
    success: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--sage)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>',
    info: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',
    warning: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--golden)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>',
    error: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--err)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>'
  };
  toast.innerHTML = (icons[type] || icons.info) + '<span>' + message + '</span><div class="toast-close" onclick="dismissToast(this)"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></div>';
  container.appendChild(toast);
  setTimeout(() => {
    toast.classList.add('out');
    setTimeout(() => toast.remove(), 300);
  }, 5000);
}

function dismissToast(btn) {
  const toast = btn.closest('.toast');
  toast.classList.add('out');
  setTimeout(() => toast.remove(), 300);
}

// ============================================================
// NAV ITEM CLICK
// ============================================================
document.querySelectorAll('.nav-item[data-page]').forEach(item => {
  item.addEventListener('click', () => {
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    item.classList.add('active');
  });
});
</script>
</body>
</html>